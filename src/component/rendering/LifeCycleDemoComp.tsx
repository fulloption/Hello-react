import React, { useState, useEffect } from 'react';

function Counter() {
  // 1. à¸à¸³à¸«à¸™à¸” State
  //    - count à¸„à¸·à¸­ à¸•à¸±à¸§à¹à¸›à¸£à¹€à¸à¹‡à¸šà¸„à¹ˆà¸²à¸ˆà¸³à¸™à¸§à¸™
  //    - setCount à¸„à¸·à¸­ à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¸„à¹ˆà¸² count
  //    - useState(0) à¸„à¸·à¸­ à¸à¸³à¸«à¸™à¸”à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸‚à¸­à¸‡ count à¹€à¸›à¹‡à¸™ 0
  const [count, setCount] = useState(0);

  // 2. useEffect à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸³à¸¥à¸­à¸‡ ComponentDidMount à¹à¸¥à¸° ComponentWillUnmount
  useEffect(() => {
    // ComponentDidMount: à¸—à¸³à¸‡à¸²à¸™à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸ component à¸–à¸¹à¸ render à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸
    console.log('ðŸ‘‹ à¸ªà¸§à¸±à¸ªà¸”à¸µ! Counter à¹€à¸žà¸´à¹ˆà¸‡à¸–à¸¹à¸à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¸¡à¸²');

    // ComponentWillUnmount: à¸—à¸³à¸‡à¸²à¸™à¸à¹ˆà¸­à¸™à¸—à¸µà¹ˆ component à¸ˆà¸°à¸–à¸¹à¸à¸™à¸³à¸­à¸­à¸
    return () => {
      console.log('ðŸ˜¢ à¸¥à¸²à¸à¹ˆà¸­à¸™! Counter à¸à¸³à¸¥à¸±à¸‡à¸ˆà¸°à¸«à¸²à¸¢à¹„à¸›');
    };
  }, []); // [] à¸«à¸¡à¸²à¸¢à¸–à¸¶à¸‡ effect à¸™à¸µà¹‰à¸ˆà¸°à¸—à¸³à¸‡à¸²à¸™à¹à¸„à¹ˆà¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§à¸•à¸­à¸™à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™

  // 3. useEffect à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸³à¸¥à¸­à¸‡ ComponentDidUpdate
  useEffect(() => {
    // ComponentDidUpdate: à¸—à¸³à¸‡à¸²à¸™à¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸ state à¸«à¸£à¸·à¸­ props à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡
    console.log('ðŸ”„ Counter à¸–à¸¹à¸à¸­à¸±à¸›à¹€à¸”à¸•à¹à¸¥à¹‰à¸§! à¸„à¹ˆà¸²à¹ƒà¸«à¸¡à¹ˆà¸„à¸·à¸­', count);
  }, [count]); // [count] à¸«à¸¡à¸²à¸¢à¸–à¸¶à¸‡ effect à¸™à¸µà¹‰à¸ˆà¸°à¸—à¸³à¸‡à¸²à¸™à¹€à¸¡à¸·à¹ˆà¸­ count à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡

  // 4. à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸žà¸´à¹ˆà¸¡à¸„à¹ˆà¸² count
  const handleClick = () => {
    setCount(count + 1);
  };

  return (
    <div>
      <h1>à¸™à¸±à¸šà¸ˆà¸³à¸™à¸§à¸™: {count}</h1>
      <button onClick={handleClick}>à¹€à¸žà¸´à¹ˆà¸¡à¸ˆà¸³à¸™à¸§à¸™</button>
    </div>
  );
}

export default Counter;
